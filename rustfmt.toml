# =============================================================================
# RUSTFMT CONFIGURATION
# =============================================================================
# Formatting rules for the semantic-code-agx workspace.
# Run: cargo fmt --all
# Check: cargo fmt --all -- --check
#
# Note: Only stable options are enabled. Unstable options are commented
# and require nightly rustfmt with `unstable_features = true`.
# =============================================================================

# Target Rust 2024 edition
edition = "2024"

# Line width - 100 is a good balance for readability
max_width = 100

# Use 4 spaces for indentation (Rust standard)
tab_spaces = 4
hard_tabs = false

# Import organization (stable)
reorder_imports = true
reorder_modules = true

# Function/method formatting
fn_params_layout = "Tall"

# Control flow formatting
match_arm_leading_pipes = "Never"
match_block_trailing_comma = true

# Misc (stable only)
use_small_heuristics = "Default"
newline_style = "Unix"
use_field_init_shorthand = true
use_try_shorthand = true

# Chains (method calls)
chain_width = 60

# =============================================================================
# UNSTABLE OPTIONS (require nightly)
# =============================================================================
# Requires nightly rustfmt (use `cargo +nightly fmt`)
unstable_features = true
imports_granularity = "Module"
# group_imports = "StdExternalCrate"
# fn_single_line = false
# struct_lit_single_line = true
# enum_discrim_align_threshold = 20
# match_arm_blocks = true
# force_multiline_blocks = false
# wrap_comments = true
# comment_width = 100
# normalize_comments = true
normalize_doc_attributes = true
format_code_in_doc_comments = true
format_macro_matchers = true
format_macro_bodies = true
# format_strings = true
# imports_layout = "HorizontalVertical"
